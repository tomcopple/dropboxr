% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/endpoints.R
\name{dropbox_request}
\alias{dropbox_request}
\title{Create a Dropbox API request}
\usage{
dropbox_request(
  endpoint,
  api_type = "api",
  token = NULL,
  cache_path = "~/R/.dropbox_token.rds"
)
}
\arguments{
\item{endpoint}{API endpoint path (e.g., "/files/download")}

\item{api_type}{Type of API: "api" or "content"}

\item{token}{OAuth token from dropbox_auth() (if NULL, uses cached token)}

\item{cache_path}{Path to cached token}
}
\value{
An httr2 request object ready to be executed with req_perform()
}
\description{
Creates an authenticated request to the Dropbox API. This is a low-level
function used by other dropboxr functions. You typically won't need to
call this directly unless you're implementing additional Dropbox API
endpoints.
}
\details{
The Dropbox API has two base URLs:
\itemize{
\item "api" for metadata operations (listing files, getting info, etc.)
\item "content" for content operations (downloading/uploading files)
}

If a cached token exists and contains refresh token information, the
request will automatically refresh the token when needed.
}
\examples{
\dontrun{
# Create a request for file metadata
req <- dropbox_request("/files/get_metadata", api_type = "api")

# Execute the request
resp <- req |>
  httr2::req_body_json(list(path = "/my/file.txt")) |>
  httr2::req_perform()
}

}
\seealso{
\code{\link[=dropbox_auth]{dropbox_auth()}}, \code{\link[=download_dropbox_file]{download_dropbox_file()}}, \code{\link[=upload_dropbox_file]{upload_dropbox_file()}}
}
