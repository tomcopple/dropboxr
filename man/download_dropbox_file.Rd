% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/endpoints.R
\name{download_dropbox_file}
\alias{download_dropbox_file}
\title{Download a file from Dropbox}
\usage{
download_dropbox_file(
  dropbox_path,
  token = NULL,
  cache_path = "~/R/.dropbox_token.rds"
)
}
\arguments{
\item{dropbox_path}{Path to file in Dropbox (e.g., "/data/myfile.csv").
Must start with a forward slash.}

\item{token}{OAuth token from dropbox_auth() (if NULL, uses cached token)}

\item{cache_path}{Path to cached token (default: "~/.dropbox_token.rds")}
}
\value{
A tibble containing the CSV data
}
\description{
Downloads a CSV file from Dropbox and reads it directly into R as a tibble.
The file is not saved to disk - it's read directly from the API response
into memory.
}
\details{
This function currently only supports CSV files. The file is downloaded
as raw bytes, converted to a character string, and parsed by readr::read_csv().

For non-CSV files or more control over the download process, you'll need
to use dropbox_request() directly and handle the response yourself.
}
\note{
Make sure your Dropbox path starts with "/" and uses forward slashes,
not backslashes.
}
\examples{
\dontrun{
# Download a CSV file
sales_data <- download_dropbox_file("/data/sales_2024.csv")

# Use with specific token
work_token <- dropbox_auth(cache_path = "~/.dropbox_work.rds")
data <- download_dropbox_file("/reports/monthly.csv", token = work_token)

# Download and process in a pipeline
data <- download_dropbox_file("/raw/data.csv") |>
  filter(date >= "2024-01-01") |>
  mutate(total = price * quantity)
}

}
\seealso{
\code{\link[=upload_dropbox_file]{upload_dropbox_file()}}, \code{\link[=upload_df_to_dropbox]{upload_df_to_dropbox()}}, \code{\link[=dropbox_request]{dropbox_request()}}
}
