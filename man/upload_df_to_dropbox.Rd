% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/endpoints.R
\name{upload_df_to_dropbox}
\alias{upload_df_to_dropbox}
\title{Upload a data frame to Dropbox as CSV}
\usage{
upload_df_to_dropbox(
  df,
  dropbox_path,
  mode = "overwrite",
  token = NULL,
  cache_path = "~/R/.dropbox_token.rds",
  ...
)
}
\arguments{
\item{df}{Data frame or tibble to upload}

\item{dropbox_path}{Destination path in Dropbox (e.g., "/data/myfile.csv").
Must start with a forward slash and should end with .csv}

\item{mode}{Write mode:
\itemize{
\item "add": Fail if file exists (default)
\item "overwrite": Replace existing file
\item "update": Update existing file (fails if file doesn't exist)
}}

\item{token}{OAuth token from dropbox_auth() (if NULL, uses cached token)}

\item{cache_path}{Path to cached token (default: "~/.dropbox_token.rds")}

\item{...}{Additional arguments passed to \code{readr::write_csv()}}
}
\value{
Response from Dropbox API as a list containing file metadata
}
\description{
Convenience wrapper that writes a data frame to a temporary CSV file,
uploads it to Dropbox, and automatically cleans up the temporary file.
This is the recommended way to upload data frames to Dropbox.
}
\details{
This function handles all the temporary file management for you:
\enumerate{
\item Creates a temporary CSV file
\item Writes your data frame to it
\item Uploads it to Dropbox
\item Deletes the temporary file (even if upload fails)
}

The temporary file is automatically cleaned up using on.exit(), so you
don't need to worry about orphaned temp files even if something goes wrong.
}
\examples{
\dontrun{
# Simple upload
upload_df_to_dropbox(mtcars, "/data/mtcars.csv")

# Overwrite existing file
upload_df_to_dropbox(iris, "/data/iris.csv", mode = "overwrite")

# Use in a pipeline
mtcars |>
  filter(mpg > 20) |>
  mutate(kpl = mpg * 0.425) |>
  upload_df_to_dropbox("/data/efficient_cars.csv", mode = "overwrite")

# Pass additional arguments to write_csv
upload_df_to_dropbox(
  my_data,
  "/data/output.csv",
  mode = "overwrite",
  na = "NULL",
  quote = "all"
)
}

}
\seealso{
\code{\link[=upload_dropbox_file]{upload_dropbox_file()}}, \code{\link[=download_dropbox_file]{download_dropbox_file()}}, \code{\link[readr:write_delim]{readr::write_csv()}}
}
